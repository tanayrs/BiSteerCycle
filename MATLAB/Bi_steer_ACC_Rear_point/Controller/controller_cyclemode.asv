function [Vfdot,Vdot, theta_Fdot, theta_Rdot] = controller_cyclemode(t,z,p)

persistent prev_theta_Fdot;

    if isempty(prev_theta_Fdot)
        prev_theta_Fdot = 0;
    end


x   = z(1);
y   = z(2);
V   = z(3);
psi = z(4);
phi = z(5);
phidot = z(6);
theta_F = z(7);
theta_R = z(8);

target_F = -8*phi;

theta_Rdot = 0;
theta_Fdot = 1*(target_F - theta_F) + 0.1*(prev_theta_Fdot);

prev_theta_Fdot = theta_Fdot;







end